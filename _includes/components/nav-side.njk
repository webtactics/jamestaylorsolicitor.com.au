  {% set navPages = collections.all | eleventyNavigation %}

  {% set activePages = [] %}
  {% set currentPageUrl = page.url %}

<ul class="off-canvas-list">
    {%- for entry in navPages %}
      {% set childIsActive = entry | isChildActive(currentPageUrl, activePages) %}

      <li{% if entry.url == currentPageUrl or (entry.children.length > 0 and childIsActive) %} class="{% if entry.url == currentPageUrl %}active-class{% endif %}{% if entry.children.length > 0 and childIsActive %} parent{% endif %}">
        <a href="{{ entry.url }}">{{ entry.title }}</a>

        {% if entry.children.length > 0 and childIsActive %}
          <ul class="second-level">
            {% for child in entry.children %}
              <li{% if child.url == currentPageUrl %} class="active-class"{% endif %}>
                <a href="{{ child.url }}">{{ child.title }}</a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    {%- endfor %}
  </ul>


 
 






 
 
 




